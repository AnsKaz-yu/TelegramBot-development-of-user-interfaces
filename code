import telebot
import webbrowser
import sqlite3
from telebot import types

bot = telebot.TeleBot('6467477848:AAGiUpgDQX1ePytwoqVzvQ11RUr0O4cMJpc') #—ç—Ç–æ –Ω–∞—à —Ç–æ–∫–µ–Ω —Ç–∞–∫ —Å–∫–∞–∂–µ–º

#—Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –º–µ–Ω—é
@bot.message_handler(commands=['start'])
def start(message):
    #—Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –∫—É—Ä—Å–æ—Ä —á—Ç–æ–±—ã –ø–æ –Ω–µ–π –¥–≤–≤–∏–≥–∞—Ç—å—Å—è
    conn = sqlite3.connect('SessionTracker.sql')
    cur = conn.cursor()
    cur.execute('CREATE TABLE IF NOT EXISTS students(student_id int auto_increment primary key), name varchar(50),faculty varchar(50), group varchar(50)')
    conn.commit()#—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
    cur.close()#–∑–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–µ–Ω–µ–Ω–∏–µ –¥—É–º–∞—é –Ω–∞–¥–æ –Ω–∏–∂–µ –∫–∏–Ω—É—Ç—å
    conn.close()
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    btn1 = types.KeyboardButton("üëã –ê–Ω–µ–∫–¥–æ—Ç –¥–ª—è –ø–æ–¥–Ω—è—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è")
    btn2 = types.KeyboardButton("‚ùì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—é")
    btn3 = types.KeyboardButton("üìå –î–æ–±–∞–≤–∏—Ç—å —ç–∫–∑–∞–º–µ–Ω")
    btn4 = types.KeyboardButton("üìì –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ")
    markup.add(btn1, btn2, btn3, btn4)

    bot.send_message(message.chat.id,
                     text="–ü—Ä–∏–≤–µ—Ç, {0.first_name}! –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ –Ω–µ –∑–∞–≤–∞–ª–∏—Ç—å —Å–µ—Å—Å–∏—é!".format(
                         message.from_user), reply_markup=markup)


#–µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–∏—Å–∞–ª –Ω–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
@bot.message_handler(content_types=['text'])
def func(message):
    if (message.text == "üëã –ê–Ω–µ–∫–¥–æ—Ç –¥–ª—è –ø–æ–¥–Ω—è—Ç–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è"):
        bot.send_message(message.chat.id, text="–ê–Ω–µ–∫–¥–æ—Ç.")

    elif (message.text == "‚ùì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—é"):
        bot.send_message(message.chat.id, text="–£ –º–µ–Ω—è –ø–∞–º—è—Ç—å –∫–∞–∫ —É –∑–æ–ª–æ—Ç–æ–π —Ä—ã–±–∫–∏")

    elif (message.text == "üìå –î–æ–±–∞–≤–∏—Ç—å —ç–∫–∑–∞–º–µ–Ω"):
        bot.send_message(message.chat.id, "–ù–∞–ø–∏—à—É –ø–æ—Ç–æ–º –±–¥ (–ê–Ω—è)")

    elif message.text == "üìì –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ":
        markup = types.InlineKeyboardMarkup()
        button1 = types.InlineKeyboardButton("–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ", url='https://ruz.spbstu.ru/')
        markup.add(button1)
        bot.send_message(message.chat.id,
                         "–ù–∞–π–¥–∏ —Å–≤–æ—é –≥—Ä—É–ø–ø—É —Ç—É—Ç:".format(message.from_user),
                         reply_markup=markup)
    else:
        bot.send_message(message.chat.id, text="–ù–∞ —Ç–∞–∫—É—é –∫–æ–º–º–∞–Ω–¥—É —è –Ω–µ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª..")


bot.polling(none_stop=True)
